<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Morph raw map data into a road network — morph_road_network • rrstools</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Morph raw map data into a road network — morph_road_network"><meta name="description" content="morph_road_network() converts map data from the RoboCup Rescue Simulation
into a road network."><meta property="og:description" content="morph_road_network() converts map data from the RoboCup Rescue Simulation
into a road network."><meta property="og:image" content="https://nononoexe.github.io/rrstools/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rrstools</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Morph raw map data into a road network</h1>

      <div class="d-none name"><code>morph_road_network.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>morph_road_network()</code> converts map data from the RoboCup Rescue Simulation
into a road network.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">morph_road_network</span><span class="op">(</span><span class="va">map</span>, mode <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"all"</span>, <span class="st">"roads_only"</span>, <span class="st">"roads_no_entrances"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-map">map<a class="anchor" aria-label="anchor" href="#arg-map"></a></dt>
<dd><p><code>rrs_map</code> data, the GML map data loaded by
the <code><a href="read_rrs_map.html">read_rrs_map()</a></code>.</p></dd>


<dt id="arg-mode">mode<a class="anchor" aria-label="anchor" href="#arg-mode"></a></dt>
<dd><p>A character string specifiying the mode of the road network:</p><ul><li><p><code>"all"</code>: All areas are included in the network (default).</p></li>
<li><p><code>"roads_only"</code>: Only road areas are included.</p></li>
<li><p><code>"roads_no_entrances"</code>: Only road areas are included,
excluding entrances.</p></li>
</ul><p>When <code>mode</code> is set to <code>"roads_only"</code> or <code>"roads_no_entrances"</code>,
passages (connections between buildings) are excluded from the network
to prevent the formation of isolated nodes.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list containing the network components:</p><ul><li><p><code>nodes</code>: A sf object of nodes with point geometries.</p></li>
<li><p><code>edges</code>: A sf object of edges with linestring geometries.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This road network consists of nodes and edges. Nodes are defined as
the centroids of all areas and the center points the boundaries
between areas. Edges connect nodes between an agent can travel.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">gml</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"map-test.gml"</span>, package <span class="op">=</span> <span class="st">"rrstools"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">map</span> <span class="op">&lt;-</span> <span class="fu"><a href="read_rrs_map.html">read_rrs_map</a></span><span class="op">(</span><span class="va">gml</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">net</span> <span class="op">&lt;-</span> <span class="fu">morph_road_network</span><span class="op">(</span><span class="va">map</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">net</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $nodes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Simple feature collection with 197 features and 4 fields</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Geometry type: POINT</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dimension:     XY</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Bounding box:  xmin: -21 ymin: -15 xmax: 120.7273 ymax: 110.9911</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CRS:           NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> First 10 features:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     id origin_id     type degree                  geometry</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  977       956 building      1           POINT (90 19.5)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  978       957 building      1           POINT (90 13.5)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  979       958 building      1            POINT (90 7.5)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  980       959 building      1             POINT (65 16)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  981       952 building      1           POINT (90 37.5)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  982       953 building      1 POINT (65.08122 46.75888)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7  983       954 building      1           POINT (90 31.5)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8  984       955 building      1           POINT (90 25.5)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9  985       948 building      1           POINT (90 61.5)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10 986       949 building      1           POINT (90 55.5)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $edges</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Simple feature collection with 204 features and 4 fields</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Geometry type: LINESTRING</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dimension:     XY</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Bounding box:  xmin: -21 ymin: -15 xmax: 120.7273 ymax: 110.9911</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CRS:           NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> First 10 features:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      id     type from  to                       geometry</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  1174 building  956 772    LINESTRING (90 19.5, 95 18)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  1175 building  957 788    LINESTRING (90 13.5, 95 15)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  1176 building  958 793      LINESTRING (90 7.5, 95 8)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  1177 building  959 806     LINESTRING (65 16, 65.5 7)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  1178 building  952 752    LINESTRING (90 37.5, 95 39)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  1179 building  953 818 LINESTRING (65.08122 46.758...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7  1180 building  954 754    LINESTRING (90 31.5, 95 30)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8  1181 building  955 770    LINESTRING (90 25.5, 95 27)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9  1182 building  948 709    LINESTRING (90 61.5, 95 60)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10 1183 building  949 725    LINESTRING (90 55.5, 95 57)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"class")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "rrs_road_network" "list"            </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Keisuke ANDO.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

